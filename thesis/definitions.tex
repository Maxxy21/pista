\definecolor{codebackground}{RGB}{248, 248, 248}
\definecolor{codecomment}{RGB}{96, 119, 145}
\definecolor{codecommentdark}{RGB}{72, 89, 109}
\definecolor{codestring}{RGB}{194, 84, 70}
\definecolor{codekeyword}{RGB}{3, 130, 172}
\definecolor{codenumber}{RGB}{170, 88, 0}
\definecolor{codeidentifier}{RGB}{0, 0, 0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{cover}{HTML}{647D91}



\hypersetup{hidelinks}

\def\tableheader{continued from previous page.}
\def\tablefooter{Continues on next page.}

% Define a modern style for listings
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{codebackground}, % Subtle gray background
    basicstyle=\ttfamily\footnotesize\color{codeidentifier}, % Modern monospace with color
    commentstyle=\color{codecomment}\itshape, % Blue italic comments
    keywordstyle=\color{codekeyword}\bfseries, % Blue bold keywords
    stringstyle=\color{codestring}, % Red/orange strings
    numberstyle=\tiny\color{codegray}, % Gray line numbers
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=8pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    frame=single, % Add subtle border
    frameround=tttt, % Rounded corners
    rulecolor=\color{codegray!30}, % Light gray border
    xleftmargin=10pt,
    xrightmargin=10pt
}
% Apply the style to all listings
\lstset{style=mystyle}

% Define the TypeScript language without special colors
\lstdefinelanguage{TypeScript}{
  keywords={
    abstract, async, await, boolean, break, case, catch, class, const, continue,
    debugger, default, delete, do, else, enum, export, extends, false, finally,
    for, from, function, get, if, implements, import, in, instanceof, interface,
    let, new, null, of, package, private, protected, public, return, set, static,
    super, switch, this, throw, true, try, type, typeof, var, void, while, with, yield,
    Promise, Map, Set
  },
  keywordstyle=\bfseries,
  ndkeywords={
    Array, Date, eval, hasOwnProperty, Infinity, isFinite, isNaN, isPrototypeOf,
    length, Math, NaN, name, Number, Object, prototype, String, toString, undefined,
    valueOf
  },
  ndkeywordstyle=\bfseries,
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]",
  morestring=[b]`
}

% Custom commands and packages
\lstdefinelanguage{JSON}{
  morestring=[b]",% strings are in double quotes
  morecomment=[l]{//},% comments start with //
  morecomment=[s]{/*}{*/},% comments start with /* and end with */
  morekeywords={true,false,null},% keywords
  sensitive=false,
}

% Set default language for listings
\lstset{language=TypeScript}


\lstset{language={Java}, aboveskip=3mm,	belowskip=3mm, basicstyle=\ttfamily, keywordstyle=\color{blue}, commentstyle=\color{gray}, stringstyle=\color{orange}, breaklines=true, tabsize=2, numbers=left,	numberstyle=\tiny\color{gray}, numbersep=5pt, prebreak=\mbox{\tiny$\searrow$}, captionpos=b}

\renewcommand{\UrlBigBreaks}{\do\:\do\/}
\renewcommand{\UrlBreaks}{\do\/\do\0\do\1\do\2\do\3\do\4\do\5\do\6\do\7\do\8\do\9\do\a\do\b\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j\do\k\do\l\do\m\do\n\do\o\do\p\do\q\do\r\do\s\do\t\do\u\do\v\do\w\do\x\do\y\do\z\do\A\do\B\do\C\do\D\do\E\do\F\do\G\do\H\do\I\do\J\do\K\do\L\do\M\do\N\do\O\do\P\do\Q\do\R\do\S\do\T\do\U\do\V\do\W\do\X\do\Y\do\Z}
\mathchardef\UrlBreakPenalty=1000
\mathchardef\UrlBigBreakPenalty=1000

\newenvironment{tight_enumerate}{
\begin{enumerate}
  \setlength{\itemsep}{0pt}  
  \setlength{\parskip}{0pt}
}{\end{enumerate}}

\newenvironment{tight_itemize}{
\begin{itemize}
  \setlength{\itemsep}{0pt}
  \setlength{\parskip}{0pt}
}{\end{itemize}}

\newcommand{\wtf}[1]{{\color{red}#1}}

\newcommand{\scenario}[9]{
{
\setlength{\tabcolsep}{6pt}
\begin{longtable}[l]{>{\raggedright}p{3cm}p{10.5cm}}
\caption{Quality scenario QS#1 for quality requirement #2} 
\\

\hline\noalign{\smallskip}
Aspect & Description \\[2pt]
\hline
\endfirsthead
 
\multicolumn{2}{l}{\tablename\ \thetable{}, \tableheader}\\
\hline\noalign{\smallskip}
Aspect & Description \\[2pt]
\hline
\endhead

\multicolumn{2}{r}{\tablefooter} \\
\endfoot

\noalign{\smallskip}\hline\noalign{\smallskip}
\endlastfoot

No.                & QS#1 \\\hline
Property           & #3 \\\hline
Source of stimulus & #4 \\\hline
Stimulus           & #5 \\\hline
Environment        & #6 \\\hline
Artifact           & #7 \\\hline
Response           & #8 \\\hline
Response measure   & #9 \\

\end{longtable}
}
}

\makeatletter
\def\longtableheader{%
  \multicolumn{\LT@cols}{l}{\tablename\ \thetable{}, \tableheader}\\}
\def\longtablefooter{%
  \bottomrule\multicolumn{\LT@cols}{r}{\tablefooter}\endfoot\bottomrule\endlastfoot}
\makeatother

\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\AtBeginEnvironment{longtable}{\setlength{\tabcolsep}{6pt}}

% Use this only if you have a lot of code
%\AtBeginEnvironment{lstlisting}{\small}

\renewcommand{\lstlistingname}{Listing}
\renewcommand{\lstlistlistingname}{List of Listings}